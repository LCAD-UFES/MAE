int SAMPLE_GROUP_SIZE;
SAMPLE_GROUP_SIZE = GetSampleGroupSize (0);        /*=4*/

int NUM_SAMPLE_GROUPS;
NUM_SAMPLE_GROUPS = GetNumSampleGroups (0);             
#print ("NUM_SAMPLE_GROUPS = ", NUM_SAMPLE_GROUPS);       

int NUM_SAMPLES_TRAIN; 		
NUM_SAMPLES_TRAIN = GetNumSamplesTrain(0);
#print ("NUM_SAMPLES_TRAIN = ", NUM_SAMPLES_TRAIN);

int NUM_SAMPLES_TO_TRAIN;
NUM_SAMPLES_TO_TRAIN = GetNumSamplesTrainToCalibration (NUM_SAMPLES_TRAIN);
print ("NUM_SAMPLES_TRAIN = ", NUM_SAMPLES_TRAIN);
#print ("NUM_SAMPLES_TO_TRAIN = ", NUM_SAMPLES_TO_TRAIN);

int LAST_SAMPLE_TRAIN;
LAST_SAMPLE_TRAIN = GetPositionLastSamplesTrain (0);

OpenFileTrain (0);

/* Network Status */
int TRAINING_PHASE;
TRAINING_PHASE = 1;
int RECALL_PHASE;
RECALL_PHASE = 2;

/* Counters */
int i;
# int j;

ResetStatistics (0);

/* Training Phase */
SetNetworkStatus (TRAINING_PHASE);
i = 1; # Amostra 0 será utilizada como referência da primeira janela
while (i <= NUM_SAMPLES_TO_TRAIN )
# while (i <= 100 )
{
	print ("                   treino i = ", i);
	
		GetSampleFromFile (i);
	
		forward network;
	
		/* Draws nl_wnn_pred layer output */
		draw nl_wnn_pred_out based on sample move;

		train network;
	
	i = i + 1;
}



#print ("i= ", i);	
/* Testing phase */
SetNetworkStatus (RECALL_PHASE);
i = GetSampleCurrent (0);
# j = 1;
print ("           i= ", i);
print ("           LAST_SAMPLE_TRAIN= ", LAST_SAMPLE_TRAIN);
while (i <= LAST_SAMPLE_TRAIN)
# while (j <= 100)
{
		print ("                 teste i = ", i);
	
		GetSampleGroup(i);
	
		forward network;
	
		/* Draws nl_wnn_pred layer output */
		draw nl_wnn_pred_out based on sample move;

		train network;
	
	
	i = i + 1;
	# j = j + 1;
}
SavePredictionWnn (0);
SaveSampleTest (0);
ShowStatistics (0);

quit; 
