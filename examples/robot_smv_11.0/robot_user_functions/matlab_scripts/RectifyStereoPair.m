function [rect_img_left, rect_img_right] = RectifyStereoPair (img_left, img_right, ind_new_left, ind_1_left, ind_2_left, ind_3_left, ind_4_left, a1_left, a2_left, a3_left, a4_left, ind_new_right, ind_1_right, ind_2_right, ind_3_right, ind_4_right, a1_right, a2_right, a3_right, a4_right)%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% img_left = imread ('~stiven/calib_img/img_left0.jpg');% img_right = imread ('~stiven/calib_img/img_right0.jpg');%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% left image:[ny, nx, colors_channels] = size(img_left);R = double(img_left(:,:,1));G = double(img_left(:,:,2));B = double(img_left(:,:,3));R2 = 255*ones(ny,nx);G2 = 255*ones(ny,nx);B2 = 255*ones(ny,nx);R2(ind_new_left) = a1_left .* R(ind_1_left) + a2_left .* R(ind_2_left) + a3_left .* R(ind_3_left) + a4_left .* R(ind_4_left);G2(ind_new_left) = a1_left .* G(ind_1_left) + a2_left .* G(ind_2_left) + a3_left .* G(ind_3_left) + a4_left .* G(ind_4_left);B2(ind_new_left) = a1_left .* B(ind_1_left) + a2_left .* B(ind_2_left) + a3_left .* B(ind_3_left) + a4_left .* B(ind_4_left);rect_img_left(:,:,1) = uint8(R2);rect_img_left(:,:,2) = uint8(G2);rect_img_left(:,:,3) = uint8(B2);% right image:[ny, nx, colors_channels] = size(img_right);R = double(img_right(:,:,1));G = double(img_right(:,:,2));B = double(img_right(:,:,3));R2 = 255*ones(ny,nx);G2 = 255*ones(ny,nx);B2 = 255*ones(ny,nx);R2(ind_new_right) = a1_right .* R(ind_1_right) + a2_right .* R(ind_2_right) + a3_right .* R(ind_3_right) + a4_right .* R(ind_4_right);G2(ind_new_right) = a1_right .* G(ind_1_right) + a2_right .* G(ind_2_right) + a3_right .* G(ind_3_right) + a4_right .* G(ind_4_right);B2(ind_new_right) = a1_right .* B(ind_1_right) + a2_right .* B(ind_2_right) + a3_right .* B(ind_3_right) + a4_right .* B(ind_4_right);rect_img_right(:,:,1) = uint8(R2);rect_img_right(:,:,2) = uint8(G2);rect_img_right(:,:,3) = uint8(B2);